{"version":3,"sources":["App.js","reportWebVitals.js","index.js"],"names":["cols","title","dataIndex","width","align","editable","className","types","App","props","handle35","data","state","xixi","mother","father","item","type","parseInt","setState","handleSum","handleSave","row","newData","index","findIndex","id","splice","renderRowClass","record","i","length","push","this","columns","map","col","onCell","Fragment","bordered","size","rowKey","components","body","EditableRow","cell","EditableCell","dataSource","pagination","rowClassName","style","marginTop","float","onClick","marginLeft","React","Component","EditableContext","createContext","Form","useForm","form","component","Provider","value","children","restProps","useState","editing","setEditing","inputRef","useRef","useContext","useEffect","current","focus","toggleEdit","console","log","setFieldsValue","save","a","validateFields","values","childNode","Item","margin","name","ref","onPressEnter","onBlur","minHeight","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.798d3188.chunk.js","sourcesContent":["import React from 'react';\r\nimport { Table, Form, Input, Button } from 'antd';\r\n\r\nconst cols = [\r\n  {\r\n    title: '类型',\r\n    dataIndex: 'type',\r\n    width: '25%',\r\n    align: 'center'\r\n  },\r\n  {\r\n    title: '西',\r\n    dataIndex: 'xixi',\r\n    width: '25%',\r\n    editable: true,\r\n    align: 'center',\r\n    className: 'back-color'\r\n  },\r\n  {\r\n    title: '妈',\r\n    dataIndex: 'mother',\r\n    width: '25%',\r\n    editable: true,\r\n    align: 'center',\r\n    className: 'back-color1'\r\n  },\r\n  {\r\n    title: '爸',\r\n    dataIndex: 'father',\r\n    width: '25%',\r\n    editable: true,\r\n    align: 'center',\r\n    className: 'back-color2'\r\n  }\r\n]\r\n\r\nconst types = ['一','二','三','四','五','六','小计','35','葫芦','全','同','小顺','大顺','快艇','总计']\r\n\r\nclass App extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      data: []\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    let data = []\r\n    for(let i=0 ;i< types.length; i++) {\r\n      data.push({\r\n        id: i+1,\r\n        type: types[i]\r\n      })\r\n    }\r\n    this.setState({data})\r\n  }\r\n\r\n  handle35 = () => {\r\n    let data = this.state.data;\r\n    let xixi = 0, mother = 0, father = 0;\r\n    for(let item of data) {\r\n      if(item.type === '一' || item.type === '二' || item.type === '三' ||\r\n        item.type === '四' || item.type === '五' || item.type === '六') {\r\n        xixi += item.xixi?parseInt(item.xixi):0\r\n        mother += item.mother?parseInt(item.mother):0\r\n        father += item.father?parseInt(item.father):0\r\n      }\r\n    }\r\n    for(let item of data) {\r\n      if(item.type === '小计') {\r\n        item.xixi = xixi\r\n        item.mother = mother\r\n        item.father = father\r\n      }\r\n      if(item.type === '35') {\r\n        if(xixi>=63) item.xixi = 35\r\n        if(mother>=63) item.mother = 35\r\n        if(father>=63) item.father = 35\r\n      }\r\n    }\r\n    this.setState({data})\r\n  }\r\n\r\n  handleSum = () => {\r\n    let data = this.state.data;\r\n    let xixi = 0, mother = 0, father = 0;\r\n    for(let item of data) {\r\n      if(item.type === '小计' ) {\r\n        continue;\r\n      }\r\n      xixi += item.xixi?parseInt(item.xixi):0\r\n      mother += item.mother?parseInt(item.mother):0\r\n      father += item.father?parseInt(item.father):0\r\n    }\r\n    for(let item of data) {\r\n      if(item.type === '总计') {\r\n        item.xixi = xixi\r\n        item.mother = mother\r\n        item.father = father\r\n      }\r\n    }\r\n    this.setState({data})\r\n  }\r\n\r\n  handleSave = (row) => {\r\n    const newData = [...this.state.data];\r\n    const index = newData.findIndex(item => row.id === item.id);\r\n    const item = newData[index];\r\n    newData.splice(index, 1, {\r\n      ...item,\r\n      ...row,\r\n    });\r\n    this.setState({ data: newData });\r\n  };\r\n\r\n  renderRowClass = (record, index) => {\r\n    if(record.type==='小计') {\r\n      return 'table-row-enable'\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { data } = this.state;\r\n\r\n    const columns = cols.map((col) => {\r\n      if (!col.editable) {\r\n        return col;\r\n      }\r\n\r\n      return {\r\n        ...col,\r\n        onCell: (record) => ({\r\n          record,\r\n          editable: col.editable,\r\n          dataIndex: col.dataIndex,\r\n          title: col.title,\r\n          handleSave: this.handleSave,\r\n        }),\r\n      };\r\n    });\r\n\r\n    return (\r\n      <React.Fragment>\r\n        <Table\r\n          bordered\r\n          size=\"small\"\r\n          rowKey=\"id\"\r\n          components={{\r\n              body: {\r\n                  row: EditableRow,\r\n                  cell: EditableCell,\r\n              },\r\n          }}\r\n          columns={columns}\r\n          dataSource={data}\r\n          pagination={false}\r\n          rowClassName={this.renderRowClass}\r\n        />\r\n        <div style={{width: '184px', marginTop: '6px', float: 'right'}}>\r\n          <Button onClick={this.handle35}>一~六小计</Button>\r\n          <Button onClick={this.handleSum} style={{marginLeft: '20px'}}>总计</Button>\r\n        </div>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n\r\n//可编辑行定义\r\nconst EditableContext = React.createContext(null);\r\n\r\nconst EditableRow = ({ index, ...props }) => {\r\n  const [form] = Form.useForm();\r\n  return (\r\n    <Form form={form} component={false}>\r\n      <EditableContext.Provider value={form}>\r\n        <tr {...props} style={{}}/>\r\n      </EditableContext.Provider>\r\n    </Form>\r\n  );\r\n};\r\n\r\nconst EditableCell = ({\r\n  title,\r\n  editable,\r\n  children,\r\n  dataIndex,\r\n  record,\r\n  handleSave,\r\n  ...restProps\r\n}) => {\r\n  const [editing, setEditing] = React.useState(false);\r\n  const inputRef = React.useRef(null);\r\n  const form = React.useContext(EditableContext);\r\n  React.useEffect(() => {\r\n    if (editing) {\r\n      inputRef.current.focus();\r\n    }\r\n  }, [editing]);\r\n\r\n  const toggleEdit = () => {\r\n    console.log(record)\r\n    if(record.type==='35') {\r\n      return;\r\n    }\r\n    setEditing(!editing);\r\n    form.setFieldsValue({\r\n      [dataIndex]: record[dataIndex],\r\n    });\r\n  };\r\n\r\n  const save = async () => {\r\n    try {\r\n      const values = await form.validateFields();\r\n      toggleEdit();\r\n      handleSave({ ...record, ...values });\r\n    } catch (errInfo) {\r\n      console.log('Save failed:', errInfo);\r\n    }\r\n  };\r\n\r\n  let childNode = children;\r\n\r\n  if (editable) {\r\n    childNode = editing ? (\r\n      <Form.Item\r\n        style={{\r\n          margin: 0,\r\n        }}\r\n        name={dataIndex}\r\n      >\r\n        <Input style={{ width: '100%'}} ref={inputRef} onPressEnter={save} onBlur={save} />\r\n      </Form.Item>\r\n    ) : (\r\n      <div\r\n        style={{ minHeight: '10px' }}\r\n        onClick={toggleEdit}\r\n      >\r\n        {children}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return <td {...restProps}>{childNode}</td>;\r\n};","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}